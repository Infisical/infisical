---
title: "Create"
openapi: "POST /api/v2/secret-rotations/openrouter-api-key"
---

<Note>
    Check out the configuration docs for [OpenRouter API Key Rotations](/documentation/platform/secret-rotation/openrouter-api-key) to learn how to obtain the required parameters.
</Note>

Creates an OpenRouter API Key secret rotation. Infisical will create and rotate API keys via your [OpenRouter connection](/integrations/app-connections/openrouter) and write them to the specified secret path.

## Request body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | string | Yes | A unique name for the rotation (max 100 characters). |
| `projectId` | string (UUID) | Yes | The project ID. |
| `connectionId` | string (UUID) | Yes | ID of the OpenRouter app connection (Provisioning API key). |
| `environment` | string | Yes | Environment slug (e.g. `dev`, `prod`). |
| `secretPath` | string | Yes | Path where the generated API key secret will be stored. |
| `isAutoRotationEnabled` | boolean | Yes | Whether to rotate automatically on the schedule. |
| `rotationInterval` | number | Yes | Days between rotations (e.g. `30`). |
| `rotateAtUtc` | object | Yes | Time of day (UTC) to run rotation: `{ "hours", "minutes" }`. |
| `parameters.name` | string | Yes | Name for the API key in OpenRouter (max 100 characters). |
| `parameters.limit` | number | Yes | Usage limit for the key. |
| `parameters.limitReset` | string | Yes | `"monthly"` or `"never"`. |
| `parameters.includeByokInLimit` | boolean | No | Whether BYOK usage counts toward the limit. Default `false`. |
| `secretsMapping.apiKey` | string | Yes | Secret key name to store the generated API key (e.g. `OPEN_ROUTER_API_KEY`). |
| `description` | string | No | Optional description. |

## Sample request

```bash
curl --request POST \
  --url https://us.infisical.com/api/v2/secret-rotations/openrouter-api-key \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Bearer <ACCESS_TOKEN>' \
  --data '{
    "name": "my-openrouter-rotation",
    "projectId": "<project-id>",
    "description": "OpenRouter API key rotation",
    "connectionId": "<openrouter-connection-id>",
    "environment": "dev",
    "secretPath": "/",
    "isAutoRotationEnabled": true,
    "rotationInterval": 30,
    "rotateAtUtc": { "hours": 0, "minutes": 0 },
    "parameters": {
      "name": "my-app-key",
      "limit": 100,
      "limitReset": "monthly",
      "includeByokInLimit": false
    },
    "secretsMapping": {
      "apiKey": "OPEN_ROUTER_API_KEY"
    }
  }'
```

## Sample response

```json
{
  "secretRotation": {
    "id": "<rotation-id>",
    "name": "my-openrouter-rotation",
    "description": "OpenRouter API key rotation",
    "secretsMapping": { "apiKey": "OPEN_ROUTER_API_KEY" },
    "isAutoRotationEnabled": true,
    "activeIndex": 0,
    "connectionId": "<openrouter-connection-id>",
    "rotationInterval": 30,
    "rotateAtUtc": { "hours": 0, "minutes": 0 },
    "type": "openrouter-api-key",
    "parameters": {
      "name": "my-app-key",
      "limit": 100,
      "limitReset": "monthly",
      "includeByokInLimit": false
    }
  }
}
```
