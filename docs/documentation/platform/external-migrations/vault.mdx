---
title: "Migrating from Vault to Infisical"
sidebarTitle: "Vault"
description: "Learn how to migrate resources from Vault to Infisical."
---

This guide helps you migrate from HashiCorp Vault to Infisical. Whether you're moving a single application or your entire secrets infrastructure, Infisical provides tooling to make the transition smooth.

## Before You Begin

If you're new to Infisical, here's a quick overview of the core concepts you'll encounter during migration:

### Infisical Concepts for Vault Users

| Vault Concept | Infisical Equivalent | Description |
|---------------|---------------------|-------------|
| Namespace | Organization | Top-level container for all your resources. Infisical supports sub-organizations within an organization, which would be the equivalent of nested namespaces in Vault. |
| KV Secret Engine | Secrets Management Project | A collection of secrets for an application or service |
| KV Path<br/> (e.g `secret/app/dev`) | Environment + Folder | Environments (Dev, Staging, Prod) organize secrets by stage; folders provide additional hierarchy |
| Policy | Project and Organization Roles | Define what actions users/machines can perform within the project or organization |
| AppRole / Kubernetes Auth | Machine Identity | Non-human authentication for applications and services. We support a wide range of [identity authentication methods](/integrations/machine-authentication). |
| Dynamic Secrets | Dynamic Secrets | Short-lived credentials generated on-demand |

**Key Differences:**
- In Vault, you might have paths like `secret/app/dev`. In Infisical, this becomes: **Project** (`app`) -> **Environment** (`dev`) -> **Folder** (`database`)
- Infisical uses [Machine Identities](/documentation/platform/identities/machine-identities) instead of AppRoles for service authentication. We support a wide range of [identity authentication methods](/integrations/machine-authentication).
- Access control in Infisical is managed through [Project Roles](/documentation/platform/access-controls/role-based-access-controls) rather than HCL policies

## Migration Approaches

Infisical offers two migration paths. **For most teams, we recommend the In-Platform Migration Tooling** as it provides more control and flexibility.

| | In-Platform Migration | Bulk Data Import |
|---|---|---|
| **Best for** | Controlled, incremental migration | One-time full migration for KV secret engines |
| **Creates new projects** | No - import into existing projects | Yes - auto-creates projects |
| **Selective import** | Yes - choose specific secrets | No - imports everything |
| **Policy translation** | Yes | No |
| **K8s auth import** | Yes | No |
| **Dynamic secrets import** | Yes | No |

## In-Platform Migration Tooling

<Info>
**Recommended Approach** - This method lets you migrate incrementally, giving you time to validate each step before proceeding. It also supports importing Kubernetes auth configurations and translating Vault policies.
</Info>

This migration approach lets you set up a connection to your Vault instance once, then import specific resources as needed throughout Infisical. Think of it as creating a "bridge" between Vault and Infisical that you can use repeatedly.

**What you can import:**
- Secrets from KV v1 and KV v2 engines
- Kubernetes authentication configurations (to set up [Machine Identities](/documentation/platform/identities/machine-identities))
- Kubernetes secrets engine roles (as [Dynamic Secrets](/documentation/platform/dynamic-secrets/kubernetes))
- Vault policies (translated to [Infisical project roles](/documentation/platform/access-controls/role-based-access-controls))

<Warning>
  **Organization Admin Access Required:** All in-platform migration features
  (importing secrets, Kubernetes configurations, and policies from Vault) are
  only accessible to organization admins.
</Warning>

### Step 1: Set Up Your Vault Connection

Before importing anything, you need to establish a secure connection between Infisical and your Vault instance. This is a one-time setup.

<Steps>
  <Step title="Create a Vault policy">
    In your Vault instance, create a policy that allows Infisical to read your secrets, policies, and authentication configurations. This policy grants read-only access and doesn't allow Infisical to modify or create resources within your Vault instance.

    <Accordion title="View the complete policy">
    ```hcl
    # System endpoints - for listing namespaces, policies, mounts, and auth methods
    path "sys/namespaces" {
      capabilities = ["list"]
    }

    path "sys/policy" {
      capabilities = ["read", "list"]
    }

    path "sys/policy/*" {
      capabilities = ["read"]
    }

    path "sys/mounts" {
      capabilities = ["read"]
    }

    path "sys/auth" {
      capabilities = ["read"]
    }

    # KV v2 secrets - for listing and reading secrets
    # Replace '+' with your actual KV v2 mount paths (e.g., "secret", "kv")
    path "+/metadata/*" {
      capabilities = ["list", "read"]
    }

    path "+/data/*" {
      capabilities = ["read"]
    }

    # KV v1 secrets - for listing and reading secrets
    # Replace '+' with your actual KV v1 mount paths (e.g., "secret", "kv-v1")
    # WARNING: This is broad - ideally specify exact mount names
    path "+/*" {
      capabilities = ["list", "read"]
    }

    # Kubernetes auth - for reading auth configuration and roles
    path "auth/+/config" {
      capabilities = ["read"]
    }

    path "auth/+/role" {
      capabilities = ["list"]
    }

    path "auth/+/role/*" {
      capabilities = ["read"]
    }

    # Kubernetes secrets engine - for reading secrets engine configuration and roles
    path "+/config" {
      capabilities = ["read"]
    }

    path "+/roles" {
      capabilities = ["list"]
    }

    path "+/roles/*" {
      capabilities = ["read"]
    }
    ```
    </Accordion>

    Save this policy in Vault with the name `infisical-in-platform-migration`.

  </Step>

  <Step title="Create an App Connection in Infisical">
    In Infisical, navigate to **Organization Settings > App Connections** and create a new HashiCorp Vault connection.

    Follow the [HashiCorp Vault App Connection documentation](/integrations/app-connections/hashicorp-vault) for detailed setup instructions. When configuring authentication (Token or AppRole), make sure it uses the `infisical-in-platform-migration` policy you created.

  </Step>

  <Step title="Add Vault Namespaces for Migration">
    Navigate to **Organization Settings > External Migrations** in Infisical.

    Under the "In-Platform Migration Tooling" section for HashiCorp Vault, click **"+ Add Namespace"**.

    ![In-Platform Migration Tooling](/images/platform/external-migrations/vault-in-platform/external-migration-overview.png)

    Configure your namespace:

    ![Namespace Configuration](/images/platform/external-migrations/vault-in-platform/namespace-configuration-modal.png)

    - **Namespace**: Enter your Vault namespace path (e.g., `admin/namespace1`). If you intend to use the root namespace, set the namespace value to "root".
    - **Connection**: Select the App Connection you created in the previous step.

    <Note>
    You can add multiple namespaces with different connections if you have multiple Vault instances or namespaces to migrate from.
    </Note>

  </Step>
</Steps>

### Step 2: Import Your Resources

Once your Vault connection is configured, you'll see import options throughout Infisical wherever relevant. The sections below cover each type of resource you can import.

<Tip>
**Migration Strategy:** We recommend migrating one application at a time. Start with a non-critical application to familiarize yourself with the process, then proceed to more important services.
</Tip>

### Importing Secrets

Secrets are imported into a specific **environment** (e.g., Development, Staging, Production) within a **project**. If you're coming from Vault, think of a project as similar to a KV secret engine dedicated to one application.

<Info>
**First time?** You'll need to [create a project](/documentation/platform/project) first. A project in Infisical typically represents a single application or microservice.
</Info>

**To import secrets from Vault:**

1. Navigate to your project and select a specific environment (e.g., Development, Production)
2. In the secrets view, click the dropdown icon (caret) next to the **"+ Add Secret"** button
3. Select **"Add from HashiCorp Vault"**

   ![Import Vault Secrets](/images/platform/external-migrations/vault-in-platform/import-vault-secrets-modal.png)

4. Choose your Vault namespace and the secret path you want to import (e.g., `secret/app/prod`)
5. Click **"Import Secrets"**

The secrets will be imported into your current environment and folder path. If your Vault path has nested paths, you can create [folders](/documentation/platform/folder) in Infisical to maintain a similar structure.

### Importing Kubernetes Authentication Configurations

If you're using Vault's Kubernetes auth method to authenticate your pods, you can migrate this configuration to Infisical's [Machine Identities](/documentation/platform/identities/machine-identities).

**Vault Kubernetes Auth -> Infisical Machine Identity**

In Vault, you define Kubernetes roles that specify which service accounts can authenticate. In Infisical, this maps to a Machine Identity with Kubernetes authentication enabled.

**To import Kubernetes auth configuration:**

1. First, [create a Machine Identity](/documentation/platform/identities/machine-identities) in Infisical
2. Navigate to **Access Control > Machine Identities** and select the identity
3. Click **"Add Authentication Method"** and choose **Kubernetes Auth**
4. In the configuration modal, click **"Load from Vault"**

   ![Load Kubernetes Auth from Vault](/images/platform/external-migrations/vault-in-platform/import-vault-kubernetes-auth-modal.png)

5. Select your Vault namespace and the Kubernetes role
6. Click **"Load"**

   ![Kubernetes Auth Form Populated](/images/platform/external-migrations/vault-in-platform/import-vault-kubernetes-auth-modal-form.png)

The authentication settings (allowed service accounts, namespaces, TTL, etc.) will be automatically populated from your Vault configuration.

<Note>
  Sensitive values like service account JWTs cannot be retrieved from Vault and
  must be manually provided in the form after importing the configuration.
</Note>

**After importing:** You'll need to update your Kubernetes deployments to use the [Infisical Kubernetes Operator](/integrations/platforms/kubernetes/overview) or [Infisical SDK](/sdks/overview) instead of the Vault agent/sidecar.

### Importing Kubernetes Dynamic Secret Configurations

If you're using Vault's Kubernetes secrets engine to generate short-lived Kubernetes credentials, you can migrate these to Infisical's [Dynamic Secrets](/documentation/platform/dynamic-secrets/kubernetes).

**Vault Kubernetes Secrets Engine -> Infisical Dynamic Secrets**

Both platforms support generating temporary Kubernetes service account tokens or creating temporary service accounts. The configuration is similar.

**To import a Kubernetes dynamic secret configuration:**

1. Navigate to your project and select an environment
2. Click **"+ Add Secret"** dropdown and choose **"Dynamic Secret"**
3. Select **Kubernetes** as the provider
4. Click **"Load from Vault"** at the top of the form

   ![Load Kubernetes Dynamic Secret from Vault](/images/platform/external-migrations/vault-in-platform/import-vault-kubernetes-role-modal.png)

5. Select your Vault namespace, Kubernetes secrets engine mount, and role
6. Click **"Load Configuration"**

The form will be automatically populated with the role's configuration including:

- Cluster URL and CA certificate
- Credential type (Static or Dynamic)
- Service account name or Kubernetes role settings
- Allowed namespaces
- Token TTL values
- Token audiences

<Note>
  Sensitive values like cluster tokens cannot be retrieved from Vault and must
  be manually provided in the form after loading the configuration.
</Note>

Learn more about how Dynamic Secrets work in Infisical in the [Dynamic Secrets documentation](/documentation/platform/dynamic-secrets/overview).

### Importing and Translating Access Control Policies

Infisical can translate your Vault HCL policies into [Infisical project roles](/documentation/platform/access-controls/role-based-access-controls).

**Vault Policies -> Infisical Project Roles**

| Vault Capability | Infisical Permission |
|-----------------|---------------------|
| `read` | Read secrets |
| `list` | Read secrets (list is implicit with read) |
| `create` | Create secrets |
| `update` | Edit secrets |
| `delete` | Delete secrets |

<Note>
  Policy translation is best-effort and provides a starting point based on your
  Vault configuration. The translated permissions should be reviewed and
  adjusted as needed since Vault and Infisical have different access control
  models.
</Note>

**To import and translate a policy:**

1. Navigate to your project, then go to **Access Control > Roles** and create or edit a role
2. In the policy configuration, click **"Add from HashiCorp Vault"**

   ![Import Vault Policy Button](/images/platform/external-migrations/vault-in-platform/translate-vault-policy-toggle.png)

3. Select your Vault namespace
4. Either choose an existing policy from the dropdown or paste your own HCL policy

   ![Translate Vault Policy Modal](/images/platform/external-migrations/vault-in-platform/translate-vault-policy-modal.png)

5. Review the automatically translated Infisical permissions
6. Make any adjustments and save

<Accordion title="How policy translation works">
  - Vault path patterns are analyzed to identify KV secret engines and environments
  - Vault capabilities (`read`, `list`, `create`, etc.) are mapped to Infisical permissions
  - Wildcards in paths are converted to glob patterns
  - Secret paths are preserved for granular access control
  
  **Example translation:**
  ```hcl
  # Vault policy
  path "secret/data/app/*" {
    capabilities = ["read", "list"]
  }
  ```
  
  Becomes an Infisical role with **read** permission on secrets in the corresponding environment/folder path.
</Accordion>

### Next Steps After Migration

Once you've imported your secrets and configurations, here's how to start using them in your applications:

<CardGroup cols={2}>
  <Card title="Update Your Applications" icon="code" href="/sdks/overview">
    Replace Vault client libraries with Infisical SDKs in your application code
  </Card>
  <Card title="Set Up Kubernetes Integration" icon="dharmachakra" href="/integrations/platforms/kubernetes/overview">
    Use the Infisical Kubernetes Operator to inject secrets into your pods
  </Card>
</CardGroup>

---

## Bulk Data Import

<Note>
**When to use Bulk Import:** This approach is best for one-time migrations where you want to move all secrets at once and have Infisical automatically create projects based on your Vault structure. For most migrations, we recommend the [In-Platform Migration Tooling](#in-platform-migration-tooling) above.
</Note>

This migration approach imports all secrets from your Vault instance in one operation and automatically creates new Infisical projects based on your Vault structure.

### Understanding Project Mapping

Before starting the bulk import, you need to decide how your Vault structure will map to Infisical projects:

<Accordion title="Namespace Mapping (One Project Per Namespace)">
  Each Vault namespace becomes a single Infisical project, with each KV secret engine becoming an environment within that project.

  **Example:** If you have a namespace with 3 KV secret engines (`dev-secrets`, `staging-secrets`, `prod-secrets`):

  - Creates: 1 Infisical project
  - Environments: 3 (`dev-secrets`, `staging-secrets`, `prod-secrets`)
</Accordion>

<Accordion title="Key Vault Mapping (One Project Per KV Engine)">
  Each KV secret engine becomes its own Infisical project with a single `Production` environment.

  **Example:** If you have 3 KV secret engines (`dev-secrets`, `staging-secrets`, `prod-secrets`):

  - Creates: 3 Infisical projects (`dev-secrets`, `staging-secrets`, `prod-secrets`)
  - Each project has: 1 environment (`Production`)
</Accordion>

### How to Perform a Bulk Import

<Steps>
  <Step title="Create a Vault policy for bulk import">
    In your Vault instance, create a policy that allows Infisical to read all secrets and metadata. This policy grants read-only access.

    <Accordion title="View the bulk import policy">
    ```hcl
    # Allow listing secret engines/mounts
    path "sys/mounts" {
      capabilities = ["read", "list"]
    }

    # For KV v2 engines - access to both data and metadata
    path "*/data/*" {
      capabilities = ["read", "list"]
    }

    path "*/metadata/*" {
      capabilities = ["read", "list"]
    }

    # If using Vault Enterprise - allow listing namespaces
    path "sys/namespaces" {
      capabilities = ["list", "read"]
    }

    # Cross-namespace access (Enterprise only)
    path "+/*" {
      capabilities = ["read", "list"]
    }

    path "+/sys/mounts" {
      capabilities = ["read", "list"]
    }
    ```
    </Accordion>

    Save this policy in Vault with the name `infisical-bulk-migration`.

  </Step>

  <Step title="Generate an access token">
    Use the Vault CLI to generate an access token:

    ```bash
    vault token create --policy="infisical-bulk-migration"
    ```

    Copy the `token` value from the output - you'll need it in the next step.

  </Step>

  <Step title="Start the import in Infisical">
    In Infisical, navigate to **Organization Settings > External Migrations**.

    ![Infisical Organization settings](/images/platform/external-migrations/infisical-external-migration-dashboard.png)

    Under the "Bulk Data Import" section, click **"+ Import"**.

  </Step>

  <Step title="Select Vault as the source">
    Select **HashiCorp Vault** as the migration source and click **Next**.

    ![Select Vault platform](/images/platform/external-migrations/infisical-import-vault-modal.png)

  </Step>

  <Step title="Configure and start the migration">
    Fill in your Vault connection details:

    ![Configure Vault migration](/images/platform/external-migrations/infisical-import-vault.png)

    - **Vault URL**: Your Vault instance URL (e.g., `https://vault.example.com`)
    - **Vault Namespace**: Optional - only needed if using Vault Enterprise namespaces
    - **Vault Access Token**: The token you generated in step 2
    - **Project Mapping**: Choose how to structure your Infisical projects (see [Understanding Project Mapping](#understanding-project-mapping))

    Click **"Import Data"** to start the migration.

    <Note>
    The import runs in the background and may take several minutes. You'll receive an email when it completes.
    </Note>

  </Step>
</Steps>
