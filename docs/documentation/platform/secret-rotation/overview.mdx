---
title: "Secret Rotation"
sidebarTitle: "Overview"
description: "Learn how to set up automated secret rotation in Infisical."
---

## Introduction

Secret rotation is a security best practice that involves systematically updating credentials and access tokens at regular intervals to minimize the risk of compromise. By proactively replacing existing secrets with new ones, organizations reduce the potential impact of credential theft or leakage.

Examples of rotated secrets include:

- API keys and authentication tokens for cloud services and third-party integrations
- Database credentials across production, staging, and development environments

## How Rotation Works

Infisical supports two rotation models: **Dual-Phase** (used by most providers) and **Single-Instance**. This section describes dual-phase rotation, the recommended approach that ensures zero downtime. See [Single-Instance Rotation](#single-instance-rotation) for providers with limitations.

Dual-phase rotation systematically replaces secrets at regular intervals while ensuring zero downtime for your applications. This overlapping lifecycle approach maintains continuous availability while enhancing your security posture.

### Visual Timeline

```mermaid
gantt
    title Credential Lifecycle (Interval = 30 days)
    dateFormat  YYYY-MM-DD
    axisFormat %b %d

    section Credentials 1
    Active      :active, a1, 2023-01-01, 30d
    Inactive    :done, i1, after a1, 30d
    Revoked     :crit, r1, after i1, 30d

    section Credentials 2
    Active      :active, a2, 2023-01-31, 30d
    Inactive    :done, i2, after a2, 30d
    Revoked     :crit, r2, after i2, 30d

    section Credentials 3
    Active      :active, a3, 2023-03-02, 30d
    Inactive    :done, i3, after a3, 30d
    Revoked     :crit, r3, after i3, 30d
```

### Credential States

Each set of credentials transitions through three distinct states:

- **Active**: The primary credentials that will be used for new connections
- **Inactive**: These credentials are still valid but are no longer issued for new connections
    <Note>
        Some rotation providers utilize a single credential set due to technical constraints. As a result, inactive credentials for these providers will immediately become invalid once rotated.

        To avoid service interruptions, Infisical recommends manually rotating these credentials to prevent downtime.
    </Note>
- **Revoked**: Permanently invalidated and deleted from the system

### Rotation Cycle Example (30-Day Interval)

Using a __30-Day__ rotation interval as an example, here's how the process unfolds:

1. __Day 0__
    - `Credential set 1` is issued and set to **Active**
    - Applications begin using this set for authentication

2. __Day 30__
    - `Credential set 2` is issued and set to **Active**
    - `Credential set 1` transitions to **Inactive** but remains valid
    - New connections utilize set 2 while existing connections with set 1 continue to work

    <Note>
        This overlapping validity period ensures that at any point during the active period of a credential set, you are guaranteed that retrieved credentials will be valid for the specified rotation period.
    </Note>

3. __Day 60__
    - `Credential set 3` is issued and set to **Active**
    - `Credential set 2` transitions to **Inactive** but remains valid
    - `Credential set 1` is **Revoked** and securely deleted
    - By now, all applications should have transitioned to using set 2 or 3

4. __Day 90__
    - `Credential set 4` is issued and set to **Active**
    - `Credential set 3` transitions to **Inactive** but remains valid
    - `Credential set 2` is **Revoked** and securely deleted
    - The cycle continues...

### Benefits of This Approach

- **Zero Downtime**: Applications always have valid credentials
- **Grace Period**: The inactive period gives applications time to update to new credentials
- **Reduced Risk**: Credentials are regularly cycled, limiting the impact of potential compromise
- **Predictable Schedule**: Makes credential management more systematic and easier to automate

### Implementation Considerations

- Choose a rotation interval appropriate for your security requirements and operational needs
- Ensure your applications can handle credential updates gracefully
- Monitor for applications still using credentials nearing revocation

## Single-Instance Rotation

Some providers have technical limitations that prevent dual-phase rotation. These providers use **single-instance rotation**, which updates a single credential in place. When rotation occurs, old credentials become invalid immediately there is no overlap period.

<Warning>
Single-instance rotation may cause brief service interruptions. For these providers, we recommend disabling auto-rotation and performing manual rotations during scheduled maintenance windows.
</Warning>

## Provider Rotation Types

| Provider | Rotation Type | Zero-Downtime |
|----------|---------------|---------------|
| [PostgreSQL Credentials](./postgres-credentials) | Dual-Phase | Yes |
| [Microsoft SQL Server Credentials](./mssql-credentials) | Dual-Phase | Yes |
| [MySQL Credentials](./mysql-credentials) | Dual-Phase | Yes |
| [OracleDB Credentials](./oracledb-credentials) | Dual-Phase | Yes |
| [MongoDB Credentials](./mongodb-credentials) | Dual-Phase | Yes |
| [Redis Credentials](./redis-credentials) | Dual-Phase | Yes |
| [AWS IAM User Secret](./aws-iam-user-secret) | Dual-Phase | Yes |
| [Okta Client Secret](./okta-client-secret) | Dual-Phase | Yes |
| [Azure Client Secret](./azure-client-secret) | Dual-Phase | Yes |
| [Databricks Service Principal](./databricks-service-principal-secret) | Dual-Phase | Yes |
| [DBT Service Token](./dbt-service-token) | Dual-Phase | Yes |
| [OpenRouter API Key](./openrouter-api-key) | Dual-Phase | Yes |
| [Auth0 Client Secret](./auth0-client-secret) | Single-Instance | No |
| [LDAP Password](./ldap-password) | Single-Instance | No |
| [Unix/Linux Local Account](./unix-linux-local-account) | Single-Instance | No |
| [Windows Local Account](./windows-local-account) | Single-Instance | No |

## FAQ

<AccordionGroup>
    <Accordion title="What is the difference between single-instance and dual-phase rotation?">
        **Dual-Phase Rotation:**
        - Maintains two credential sets that cycle between active and inactive states
        - New credentials are created before old ones are revoked
        - Provides an overlap period where both credential sets are valid
        - Enables zero-downtime rotation

        **Single-Instance Rotation:**
        - Rotates a single credential in place
        - Old credentials become invalid immediately upon rotation
        - May cause brief service interruptions during rotation
        - Recommended to use manual rotation during maintenance windows
    </Accordion>
    <Accordion title="Why do certain rotations only use a single credential set?">
        Some credential providers have limitations that affect rotation patterns:

        - The third-party provider's API only supports managing one active credential set at a time
        - The specific use-case (such as personal login accounts) is inherently limited to a single active credential

        In either scenario, when service continuity is critical, Infisical recommends disabling auto-rotation and performing manual credential rotation during scheduled maintenance windows.
    </Accordion>
</AccordionGroup>
