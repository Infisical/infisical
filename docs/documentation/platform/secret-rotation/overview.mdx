---
title: "Secret Rotation"
sidebarTitle: "Overview"
description: "Learn how Infisical rotates secrets to keep your infrastructure secure."
---

Secret rotation is the practice of automatically updating authentication credentials (such as database passwords and API keys) on a regular schedule. By changing your secrets frequently, you limit the lifespan of any leaked credential, significantly reducing the risk of unauthorized access to your infrastructure.

Infisical Secret Rotation automates the entire secret rotation process. This ensures that your applications always have valid credentials without downtime.

## Rotation strategy

Before configuring rotation, determine which strategy fits your infrastructure. Infisical supports both secret rotation (swapping static users) and dynamic secrets (generating temporary users).

| Feature      | Secret rotation                            | Dynamic secrets (issuer pattern)       |
| ------------ | ------------------------------------------ | -------------------------------------- |
| **Method**   | Swaps between two static users             | Generates a new, unique user on-demand |
| **Duration** | Long-lived (for example, 30 days)          | Short-lived (for example, one hour)    |
| **Best for** | Legacy databases and static infrastructure | Microservices and temporary access     |

<Tip>
  If your use case requires short-lived, on-demand credentials (the issuer
  pattern), refer to [Dynamic
  Secrets](/documentation/platform/dynamic-secrets/overview).
</Tip>

### Two-user rotation

Infisical uses a two-user rotation strategy to ensure zero downtime. Changing the password for a single user would immediately break active connections. Instead, Infisical manages two separate database users and toggles between them.

1.  User A is active. Applications use User A's credentials.
2.  When rotation occurs, Infisical updates the password for User B and switches the secret in Infisical to point to User B.
3.  Applications fetch the new secret and start connecting as User B.
4.  User A remains valid for a grace period (or until the next rotation) to allow ongoing connections to close without interruption.

```mermaid
sequenceDiagram
    participant App
    participant Infisical
    participant Database

    Note over App, Database: Initial state: User A is active
    App->>Infisical: Fetch credentials
    Infisical-->>App: Returns User A
    App->>Database: Connect (User A)

    Note over Infisical, Database: Rotation event triggered
    Infisical->>Database: Update password for User B
    Infisical->>Infisical: Switch active compass to User B

    Note over App, Database: Rotation complete
    App->>Infisical: Fetch credentials (next request)
    Infisical-->>App: Returns User B
    App->>Database: Connect (User B)

    Note right of Database: User A remains valid for existing connections
```

### The credential lifecycle

A common point of confusion is the difference between the **Rotation Interval** and the **Credential Validity**.

If you set a **30-day rotation interval**, your secrets are actually valid for **60 days**.

<Frame caption="The overlap ensures that even if an application deploys at the last second of a cycle, it has valid credentials for the next cycle.">

```mermaid
  gantt
    dateFormat  YYYY-MM-DD
    axisFormat  %m-%d
    title       30-Day Rotation Interval = 60-Day Validity

    section Credential Set A
    Active (In Secret)       :active,    des1, 2023-01-01, 30d
    Grace Period (Valid)     :           des2, after des1, 30d

    section Credential Set B
    Standby                  :           des3, 2023-01-01, 30d
    Active (In Secret)       :active,    des4, after des3, 30d
    Grace Period (Valid)     :           des5, after des4, 30d

```

</Frame>

- **Active Phase (Days 0-30)**: The credential is the "current" secret. Applications fetching secrets will get this one.
- **Grace Phase (Days 30-60)**: The credential is no longer served to new requests, but it **still works**. This ensures that an application that started a long-running job on Day 29 isn't cut off on Day 30.

### Common issues

<AccordionGroup>
<Accordion title="Missing database permissions">
The most common failure reason is insufficient permissions. The user you provide to Infisical (to perform the rotation) must have the authority to `ALTER USER` or change passwords for the target users. Always verify permissions before enabling rotation.
</Accordion>

<Accordion title="Application restarts">
  Infisical updates the secret value, but your application must *read* that new
  value. - If you inject secrets at build time (e.g., in a CI/CD pipeline), you
  must **re-deploy** your application to pick up the rotated secret. - If you
  use the Infisical SDK or Agent, your app can fetch the new secret dynamically
  without a full redeploy.
</Accordion>

<Accordion title="Requesting New Integrations">
Infisical supports many services out of the box. If you need to rotate a secret for a service not currently listed, please [request a new integration](https://github.com/Infisical/infisical/issues) or check our [Integrations](/integrations/overview) page.
</Accordion>
</AccordionGroup>
