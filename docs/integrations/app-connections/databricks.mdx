---
title: "Databricks Connection"
description: "Learn how to configure a Databricks Connection for Infisical."
---

Infisical supports the use of [service principals](https://docs.databricks.com/en/admin/users-groups/service-principals.html) to connect with your Databricks workspaces.

## Configure a Service Principal for Infisical

<Steps>
    <Step title="Databricks Workspace Settings">
        Navigate to your Databricks Workspace **Settings** via the dropdown in the top right.
        ![Workspace Settings Page](/images/app-connections/databricks/workspace-settings.png)
    </Step>
    <Step title="Manage Service Principals">
        Under the **Identity & Access** tab, click the **Manage** button in the **Service Principals** section.

        ![Manage Service Principals](/images/app-connections/databricks/manage-service-principals.png)
    </Step>
    <Step title="Service Principal Management">
        Click the **Add Service Principal** button.

        ![Add Service Principal](/images/app-connections/databricks/add-service-principal.png)
    </Step>
    <Step title="Add Service Principal">
        Select the **Add New** option and create a service principal for Infisical.

        ![Create Service Principal](/images/app-connections/databricks/create-service-principal.png)
    </Step>
    <Step title="Generate Service Principal Secret">
        Click on your new service principal, select the **Secrets** tab and click the **Generate Secret** button.

        ![Generate Secret](/images/app-connections/databricks/service-principal-secrets.png)
    </Step>
    <Step title="Service Principal Secret">
        Copy your service principal **Secret** and **Client ID** for use in the following steps.

        ![Generate Secret](/images/app-connections/databricks/service-principal-ids.png)
    </Step>
</Steps>

<Accordion title="Configure Permissions for Secret Rotation">
    <Steps>
        <Step title="Add Service Principal to Admin Group">
            Navigate to **Settings** > **Identity & Access** > **Groups** and select the admin group (typically named "admins" or "workspace-admins").

            ![Admin Group](/images/app-connections/databricks/admin-group.png)

            Click **Add** and select the service principal you created for Infisical to add it to the admin group.

            ![Add to Admin Group](/images/app-connections/databricks/add-to-admin-group.png)
            ![Add to Admin Group Modal](/images/app-connections/databricks/add-to-admin-group-form.png)
        </Step>
        <Step title="Grant Manage Permission for Target Service Principals">
            For each service principal whose secrets you want to rotate, navigate to **Settings** > **Identity & Access** > **Service Principals** and select the target service principal.

            ![Select Target Service Principal](/images/app-connections/databricks/select-target-service-principal.png)
        </Step>
        <Step title="Open Permissions Tab">
            Click on the **Permissions** tab for the selected service principal. And then click the **Grant access** button to open the permission modal

            ![Permissions Tab](/images/app-connections/databricks/permissions-tab.png)
        </Step>
        <Step title="Grant Manage Permission to Infisical Service Principal">
            In the **User, Group or Service Principal** field, select the service principal you created for Infisical. In the **Permission** field, select **Manage** to allow the Infisical service principal to manage credentials and secrets for this service principal. Click **Save** to apply the permissions. Repeat these steps for each service principal whose secrets you want to rotate.

            ![Assign Manage Permission](/images/app-connections/databricks/assign-manage-permission.png)
        </Step>
    </Steps>
</Accordion>

## Setup Databricks Connection in Infisical

<Steps>
  <Step title="Navigate to App Connections">
    Navigate to the **App Connections** page in the desired project. ![App Connections
    Tab](/images/app-connections/general/add-connection.png)
  </Step>
  <Step title="Add Connection">
    Select the **Databricks Connection** option from the connection options modal.
    ![Select Databricks
    Connection](/images/app-connections/databricks/select-databricks-connection.png)
  </Step>
  <Step title="Authorize Connection">
    Select the **Service Principal** method, add your **workspace URL** and **service principal credentials**, then click **Connect to
    Databricks**. ![Connect via Databricks
    service principal](/images/app-connections/databricks/create-databricks-service-principal-method.png)
  </Step>
  <Step title="Connection Created">
    Your **Databricks Connection** is now available for use. ![Databricks Service Principal
    Connection](/images/app-connections/databricks/databricks-service-principal-connection.png)
  </Step>
</Steps>
